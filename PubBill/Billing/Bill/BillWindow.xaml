<Window x:Class="PubBill.Billing.Bill.BillWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PubBill.Billing.Bill"
		xmlns:common="clr-namespace:PubBill.Common"
		xmlns:main="clr-namespace:PubBill"
        mc:Ignorable="d" WindowState="Maximized"
        Title="Bill Dashboard" Height="450" Width="800"
		Closed="Window_Closed" Loaded="Window_Loaded">

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<ScrollViewer>
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto"/>
					<RowDefinition Height="*"/>
				</Grid.RowDefinitions>

				<Expander Header="Bill Details" Grid.Row="0" Margin="10" Padding="5" IsExpanded="True">
					<Grid HorizontalAlignment="Center">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="Auto" />
						</Grid.ColumnDefinitions>

						<!--#region Table Info-->
						<Border Grid.Column="0" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Table Information" Margin="10" Padding="5" HorizontalAlignment="Center" />

								<TextBlock Grid.Row="1" Grid.Column="0" Text="Running Time" Margin="10" Padding="5" />
								<TextBox x:Name="runningTimeTextBox" Grid.Row="1" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" IsReadOnly="True" Text="00h 00mins" />

								<TextBlock Grid.Row="2" Grid.Column="0" Text="Area" Margin="10" Padding="5" />
								<TextBox x:Name="diningAreaTextBox" Grid.Row="2" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" IsReadOnly="True" Text="Indoor" />

								<TextBlock Grid.Row="3" Grid.Column="0" Text="Table" Margin="10" Padding="5" />
								<TextBox x:Name="diningTableTextBox" Grid.Row="3" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" IsReadOnly="True" Text="1" />
							</Grid>
						</Border>
						<!--#endregion-->

						<!--#region Person Info -->
						<Border Grid.Column="1" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Person Information" Margin="10" Padding="5" HorizontalAlignment="Center" />

								<TextBlock Grid.Row="1" Grid.Column="0" Text="Number" Margin="10" Padding="5" />
								<TextBox x:Name="personNumberTextBox" Grid.Row="1" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" MaxLength="10" PreviewTextInput="numberTextBox_PreviewTextInput" TextChanged="personNumberTextBox_TextChanged" />

								<TextBlock Grid.Row="2" Grid.Column="0" Text="Name" Margin="10" Padding="5" />
								<TextBox x:Name="personNameTextBox" Grid.Row="2" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" />

								<CheckBox x:Name="loyaltyCheckBox" Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Margin="10" Padding="5" Content="Loyalty" HorizontalAlignment="Center"/>

								<TextBlock Grid.Row="4" Grid.Column="0" Text="Total People" Margin="10" Padding="5" />
								<TextBox  x:Name="totalPeopleTextBox" Grid.Row="4" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" Text="1" MaxLength="5" PreviewTextInput="numberTextBox_PreviewTextInput" />
							</Grid>
						</Border>
						<!--#endregion-->

						<!--#region Adjustments -->
						<Border Grid.Column="2" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Adjustments" Margin="10" Padding="5" HorizontalAlignment="Center" />

								<TextBlock Grid.Row="1" Grid.Column="0" Text="Adj %" Margin="10" Padding="5" />
								<TextBox x:Name="adjPercentTextBox" Grid.Row="1" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" TextAlignment="Right" Text="0" MaxLength="3" TextChanged="adjPercentTextBox_TextChanged" PreviewTextInput="decimalTextBox_PreviewTextInput" />

								<TextBlock Grid.Row="2" Grid.Column="0" Text="Adj Amt" Margin="10" Padding="5" />
								<TextBox x:Name="adjAmountTextBox" Grid.Row="2" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" TextAlignment="Right" Text="0" MaxLength="10" TextChanged="adjAmountTextBox_TextChanged" PreviewTextInput="decimalTextBox_PreviewTextInput"/>

								<TextBlock Grid.Row="3" Grid.Column="0" Text="Adj Reason" Margin="10" Padding="5" />
								<TextBox x:Name="adjReasonTextBox" Grid.Row="3" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" TextWrapping="Wrap" MaxWidth="150" />
							</Grid>
						</Border>
						<!--#endregion-->

						<!--#region Bill Info -->
						<Border Grid.Column="3" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<TextBlock Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Text="Bill Information" Margin="10" Padding="5" HorizontalAlignment="Center" />

								<TextBlock Grid.Row="1" Grid.Column="0" Text="Remarks" Margin="10" Padding="5" />
								<TextBox x:Name="remarkTextBox" Grid.Row="1" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" TextWrapping="Wrap" MaxWidth="150" />

								<TextBlock Grid.Row="2" Grid.Column="0" Text="Total" Margin="10" Padding="5" />
								<TextBox x:Name="totalAmountTextBox" Grid.Row="2" Grid.Column="1" Margin="10" Padding="5" MinWidth="100" TextAlignment="Right" Text="0.00" IsReadOnly="True" />

								<Button x:Name="kotButton" Grid.Row="3" Grid.Column="0" Content="KOT" Margin="10" Padding="5" MinWidth="100" MinHeight="40" Background="IndianRed" Click="kotButton_Click" />
								<Button x:Name="billButton" Grid.Row="3" Grid.Column="1" Content="Bill" Margin="10" Padding="5" MinWidth="100" MinHeight="40" Style="{DynamicResource AccentButtonStyle}" Click="billButton_Click" />
							</Grid>
						</Border>
						<!--#endregion-->

					</Grid>
				</Expander>

				<!--#region Items -->
				<Grid Grid.Row="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>

					<!--#region Products -->
					<Grid Grid.Column="0">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="*" />
						</Grid.RowDefinitions>

						<ComboBox Grid.Row="0" x:Name="groupComboBox" Margin="10" Padding="5" MinWidth="100" SelectedIndex="0" SelectionChanged="groupComboBox_SelectionChanged"/>
						<ListBox Grid.Row="1" x:Name="categoryListBox" Margin="10" Padding="5" SelectedIndex="0" SelectionChanged="categoryListBox_SelectionChanged" />
					</Grid>

					<Grid Grid.Column="1">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="*" />
						</Grid.RowDefinitions>

						<!--#region Search -->

						<Grid Grid.Row="0">
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="*" />
							</Grid.RowDefinitions>

							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="*" />
							</Grid.ColumnDefinitions>

							<TextBlock Grid.Row="0" Grid.Column="0" Text="Search by Item" Margin="10" Padding="5" />
							<TextBlock Grid.Row="0" Grid.Column="1" Text="Search by Code" Margin="10" Padding="5" />

							<TextBox x:Name="searchProductNameTextBox" Grid.Row="1" Grid.Column="0" Margin="10" Padding="5" MinWidth="150" TextChanged="searchProductNameTextBox_TextChanged" />
							<TextBox x:Name="searchCodeTextBox" Grid.Row="1" Grid.Column="1" Margin="10" Padding="5" MinWidth="150" TextChanged="searchCodeTextBox_TextChanged" />
						</Grid>

						<!--#endregion-->

						<Border Grid.Row="1" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
							<Grid x:Name="productsGrid" Grid.Row="1" Margin="10">
								<ItemsControl Margin="10" x:Name="itemsContol">
									<ItemsControl.ItemsPanel>
										<ItemsPanelTemplate>
											<WrapPanel Orientation="Horizontal"/>
										</ItemsPanelTemplate>
									</ItemsControl.ItemsPanel>
								</ItemsControl>
							</Grid>
						</Border>
					</Grid>
					<!--#endregion-->

					<GridSplitter Grid.Column="2" Width="5" HorizontalAlignment="Stretch"
                          ResizeDirection="Columns" ResizeBehavior="PreviousAndNext">
						<GridSplitter.Style>
							<Style TargetType="GridSplitter">
								<Style.Triggers>
									<DataTrigger Binding="{Binding Source={x:Static main:App.IsLightTheme}}" Value="True">
										<Setter Property="Background" Value="#ffdddddd"/>
									</DataTrigger>
									<DataTrigger Binding="{Binding Source={x:Static main:App.IsLightTheme}}" Value="False">
										<Setter Property="Background" Value="#ff313131"/>
									</DataTrigger>
								</Style.Triggers>
							</Style>
						</GridSplitter.Style>
					</GridSplitter>

					<!--#region Cart -->
					<Border Grid.Column="3" BorderBrush="Gold" BorderThickness="2" CornerRadius="5" Padding="10" Margin="10">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="*" />
							</Grid.RowDefinitions>

							<Grid Grid.Row="0">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>

								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<!--#region Quantity -->
								<TextBlock Grid.Row="0" Grid.Column="0" Margin="10" Padding="5" Text="Quantity" HorizontalAlignment="Center"/>
								<Grid Grid.Row="1" Grid.Column="0">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="Auto" />
									</Grid.ColumnDefinitions>

									<Button Grid.Column="0" Margin="10" Padding="5" x:Name="quantityMinusButton" Content="-" MinWidth="50" Background="PaleVioletRed" Click="quantityMinusButton_Click" />
									<TextBox Grid.Column="1" Margin="10" Padding="5" x:Name="quantityTextBox" TextAlignment="Center" Text="0" MinWidth="50" TextChanged="quantityTextBox_TextChanged" PreviewTextInput="numberTextBox_PreviewTextInput" MaxLength="8" />
									<Button Grid.Column="2" Margin="10" Padding="5" x:Name="quantityPlusButton" Content="+" MinWidth="50" Background="PaleVioletRed" Click="quantityPlusButton_Click" />
								</Grid>
								<!--#endregion-->

								<TextBlock Grid.Row="0" Grid.Column="1" Margin="10" Padding="5" Text="Instructions"/>
								<TextBox Grid.Row="1" Grid.Column="1" Margin="10" Padding="5"  x:Name="instructionsTextBox" MinWidth="150" TextChanged="instructionsTextBox_TextChanged" />
							</Grid>
							
							<TabControl Grid.Row="1" x:Name="cartTabControl" Margin="10">
								<TabItem Header="All Items" x:Name="allCartTabItem" Background="CornflowerBlue" MinWidth="300">
									<DataGrid Grid.Row="1" Padding="5" x:Name="cartDataGrid" IsReadOnly="True" MinColumnWidth="100" SelectionChanged="cartDataGrid_SelectionChanged" />
								</TabItem>
								
								<TabItem Header="New Items" IsSelected="True" x:Name="kotCartTabItem" Background="IndianRed" MinWidth="300">
									<DataGrid Grid.Row="1" Padding="5" x:Name="kotCartDataGrid" IsReadOnly="True" MinColumnWidth="100" SelectionChanged="kotCartDataGrid_SelectionChanged" />
								</TabItem>
							</TabControl>
						</Grid>
					</Border>
					<!--#endregion-->
				</Grid>
				<!--#endregion-->
			</Grid>
		</ScrollViewer>

		<common:FooterControl Grid.Row="1"/>
	</Grid>
</Window>
